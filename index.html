<html>
	<head >
		<title>WebGL - Canvas test</title>
		<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
		
		<script type="text/javascript" src="js/glMatrix.js"></script>
		<script type="text/javascript" src="js/callbacks.js"></script>
		<script type="text/javascript" src="js/glCourseBasis.js"></script>
		<script type="text/javascript" src="js/objLoader.js"></script>
		<script type="text/javascript" src="js/ihm.js"></script>

		<link rel="stylesheet" href="./ihm.css" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


	</head>

	<body onload="webGLStart();">
		<table>
			<tr>
				<td>
					<!-- ZONE DE DESSIN-->
					<canvas id="WebGL-test" style="border:none;" width="800" height="600"></canvas>
				</td>
				<td>

					<label class="switch" onclick="showAll()"> 
						<input id="switch" type="checkbox">
					</label>

					<!-- ZONE DE PARAMETRAGE -->
					<form>

						<fieldset>
							<legend onclick = "showDiv('divMaterialParam')"> Parametrage du materiau </legend>
							<div id = 'divMaterialParam' class='noVisible'>

								<label for="TextureActive"> Desactivation des textures : </label>
							<input type="checkbox" name="TextureActive" id="TextureActive" onclick="MATERIAL.updateIsTextured(value)">
							<br>
							
							<label for="Kd">Kd : </label><br>
							<input type="color" id="Kd" name="Kd" value="#ffffff" oninput="MATERIAL.Kd = convertRGBA(value)">
							<br>
							
							<label for="Sigma">Sigma/Roughness : </label><br>
							<input type="range" step="0.01" id="sigma" name="sigma" min="0" max="1" value="0.2" oninput="MATERIAL.sigma = Number(value)">
							<br>

							<label for="Ni">indice du milieu (Ni)</label> <br>
							<input type="range" step="0.01" id="Ni" name="Ni" min="1" max="5" value="1.3" oninput="MATERIAL.Ni = Number(value)">
							<br>	
							
							<label for="transmission"> transmission : [ 0;1 ] </label><br>
							<input type="range" name="transmission" id="transmission" min="0" max="1" step="0.01" value="0" oninput="MATERIAL.transmission = Number(value) ; console.log(value)">
							<br> <br>

							<label for="mix"> Type de materiel : </label>
							<select name="mix" id="mix">
								<option value="0" selected=true onclick="MATERIAL.mix = value;"> Reflection seule </option>
								<option value="1" onclick="MATERIAL.mix = value;"> Refraction seule </option>
								<option value="2" onclick="MATERIAL.mix = value;"> BRDF </option>
							</select>

							</div>
							
						</fieldset>

						<fieldset>
							<legend onclick = "showDiv('divRenderParam')"> Parametres de rendu  </legend>
							
							<div id='divRenderParam' class='noVisible'>	
								<label for="mode"> Mode : </label>
								<select name="mode" id="mode">
									<option value=0 selected=true onclick="MATERIAL.uDistrib = value;"> Ggx </option>
									<option value=1 onclick="MATERIAL.uDistrib = value;"> Beckman </option>
								</select>

								<br>

								
								<label for="sample">Nombre d'echantillon :  </label><br>
								<input type="number" step="1"  id="sample" min="0" value="3" oninput="MATERIAL.sample = value;">
								<br>

								<label for="sample">BRDF Factor :  </label><br>
								<input type="number" step="0.1"  id="sample" min="0" value="1" oninput="MATERIAL.factor = value;">
								<br>
							</div>
						</fieldset>


						<fieldset> 
							<legend onclick = "showDiv('divSceneParam')"> Parametrage de la scene   </legend>

							<div id='divSceneParam' class='noVisible'>
								
								<label for="skymap">Choix de la skymap : </label>
								<select name="skymap" id="skymap">
									<option value="Yokohama"  onclick="CUBEMAP.cubemapName = value; CUBEMAP.initAll()"> Yokohama </option>
									<option value="Areskutan" onclick="CUBEMAP.cubemapName = value ; CUBEMAP.initAll() "> Areskutan </option>
									<option value="FortPoint" onclick="CUBEMAP.cubemapName = value ; CUBEMAP.initAll()" > FortPoint </option>
									<option value="Lycksele" selected=true onclick="CUBEMAP.cubemapName = value ; CUBEMAP.initAll()"  > Lycksele </option>
									<option value="Tantolunden" onclick="CUBEMAP.cubemapName = value ; CUBEMAP.initAll()"> Tantolunden </option>
								</select>

								<br>

								<label for="obj3D"> Objet dans la scene : </label>
								<select name="obj3D" id="obj3D">
									<option value="sphere_2" onclick="changeObj(value)"> sphere </option>
									<option value="cube" onclick="changeObj(value)"> cube </option>
									<option value="mustang" onclick="changeObj(value)"> mustang </option>
									<option value="porsche" onclick="changeObj(value)"> porsche</option>
									<option value="bunny" onclick="changeObj(value)"> bunny </option>
								</select>

								<br>

							</div>

						</fieldset>


					</form>
				</td>
			</tr>
		</table>

	</body>
</html>